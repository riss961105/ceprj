<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>사용자 관리</title>
    <link rel="stylesheet" type="text/css" href="/css/mypagestyle.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cute+Font&family=Gugi&family=Nanum+Pen+Script&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>

    <ul class="navbar">
      <li class="nav-item" style="min-height: 45px">
        <a href="/"
          ><img src="../images/home1.png" alt="홈" style="float: left"
        /></a>
        <a href="/" class="title"><img src="/images/title.png"></a>
        <button id="showPanelBtn" style="float: right">
          <img src="../images/Menu.png" alt="메뉴" />
        </button>
        <div id="panel">
          <button id="hidePanelBtn" style="margin-left: auto">
            <img src="../images/hide.png" alt="닫기" />
          </button>
          <span style="margin-top: 30px; font-size: 20px">chat-GCT</span>
          <img
            src="../images/gachon.png"
            style="width: 45px; height: 45px; margin: 10px"
          />
          <!-- <a href="/login/"
            ><button class="logbtn" id="loginbtn" onclick="login()">
              로그인
            </button></a
          > -->
          <a href="/login/logout"><button class="logbtn" id="logoutbtn" style="display: inline-block;">로그아웃</button></a>
          <div class="panelbtn">
            <a href="/mypage/" id="mypagebtn" 
              ><button class="panelbtn1">내 정보</button></a
            >
            <a href="/timetable/" id="timetablebtn" 
              ><button class="panelbtn1">시간표</button></a
            >
          </div>
        </div>
      </li>
    </ul>
    <div class="boundary">
      <span>&nbsp 관련사이트 |</span>
      <span class="rotating-text"><a href="https://www.gachon.ac.kr/kor/index.do" target="_blank">가천대학교 홈페이지</a></span>
      <span class="rotating-text"><a href="https://cyber.gachon.ac.kr/login.php" target="_blank">가천대학교 사이버캠퍼스</a></span>
      <span class="rotating-text"><a href="https://lib.gachon.ac.kr/" target="_blank">가천대학교 중앙도서관(G)</a></span>
      <span class="rotating-text"><a href="https://sso.gachon.ac.kr/svc/tk/Auth.do?ac=Y&ifa=N&id=portal&" target="_blank">가천포털 학사행정</a></span>
    </div>


    <h1>유저 통계</h1>
    <h2><a href="/user_manage">유저정보보기</a></h2>
    <hr>

    
    

    <canvas id="myChart"></canvas>

    <script>
      // 데이터 준비
      var subjects = [];
      var counts = [];
    
      <% for (var i = 0; i < results.length; i++) { %>
        subjects.push('<%= results[i].subject %>');
        counts.push('<%= results[i].count %>');
      <% } %>
    
      // 그래프 생성
      var ctx = document.getElementById('myChart').getContext('2d');
      var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: subjects,
          datasets: [{
            label: 'Subject Counts',
            data: counts,
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            borderColor: 'rgba(75, 192, 192, 1)',
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
              precision: 0
            }
          }
        }
      });
    </script>

    
    
    
    <script src="../js/panel.js"></script>
    <script src="./js/banner.js"></script>
  </body>
</html>

